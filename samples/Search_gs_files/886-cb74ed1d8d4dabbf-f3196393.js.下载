"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{70129:function(e,t,n){n.d(t,{o8:function(){return u},eM:function(){return c},yz:function(){return s}});var r=n(90213);let o=async()=>{var e;return await (null==(e=window.JwtService)?void 0:e.getJwt())},i="/funl",a={moduleName:"FunlClientDataLoader"},s=async e=>{let{assetId:t,type:n}=e,s=await o(),c={assetId:t,bookmarkType:n,createdDate:Math.round(Date.now()/1e3)},u=await fetch("".concat(i,"/bookmarks"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{Authorization:"Bearer ".concat(s)}},body:JSON.stringify(c)});if(!u.ok)throw r.Z7.log.error("Failed to set bookmark for item: ".concat(t,", request failed with status code: ").concat(u.status),a),Error("Failed with status code: ".concat(u.status," to set bookmark for item: ").concat(t));return u.json()},c=async e=>{let{bookmarkId:t}=e,n=await o(),s=await fetch("".concat(i,"/bookmarks/").concat(t),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",...n&&{Authorization:"Bearer ".concat(n)}}});return s.ok?s.ok:(r.Z7.log.error("Failed to remove bookmark: ".concat(t,", request failed with status code: ").concat(s.status),a),!1)},u=async()=>{let e=await o(),t=await fetch("".concat(i,"/bookmarks/glossary"),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}});if(t.ok)return t.json();throw r.Z7.log.error("Get Bookmark Glossary request failed with status code: ".concat(t.status),a),Error("Failed to fetch bookmark glossary")}},93898:function(e,t,n){n.d(t,{ReportTemplateContext:function(){return a},ReportTemplateContextProvider:function(){return c}});var r=n(33154),o=n(92340),i=n(92355);let a=(0,o.createContext)({}),s={galleryOpen:!1,currentExhibitId:void 0,galleryZoomLevel:1,fontMultiplier:1.125},c=e=>{let{children:t}=e,[n,c]=(0,o.useState)(s),u=(0,o.useMemo)(()=>({reportTemplateContextState:n,setReportTemplateContextState:c}),[n,c]),l=(0,i.getCookie)("gsPortalFontSize",{});return(0,o.useEffect)(()=>{l&&c(e=>({...e,fontMultiplier:parseFloat(l)}))},[l]),(0,r.jsx)(a.Provider,{value:u,children:(0,r.jsx)("div",{children:t})})}},23054:function(e,t,n){n.d(t,{ContactProfileContext:function(){return i},ContactProfileContextProvider:function(){return s}});var r=n(33154),o=n(92340);let i=(0,o.createContext)({}),a=async()=>{var e;return null==(e=window.JwtService)?void 0:e.getJwt()},s=e=>{let{children:t}=e,[n,s]=(0,o.useState)({}),c=(0,o.useMemo)(()=>({contactProfileContextState:n,setContactProfileContextState:s}),[n,s]);return(0,o.useEffect)(()=>{let e=async()=>{let e=await a(),t=await (await fetch("/research/services/contactProfile",{credentials:"include",...e&&{headers:{Authorization:"Bearer ".concat(e)}}})).json();localStorage.setItem("contact-profile",JSON.stringify(t)),localStorage.setItem("contact-profile-last-refreshed",new Date().getTime().toString()),s(t)},t=localStorage.getItem("contact-profile"),n=localStorage.getItem("contact-profile-last-refreshed"),r=n?JSON.parse(n):void 0,o=new Date().getTime();t&&r&&!(o>r+3e5)?s(JSON.parse(t)):e()},[]),(0,r.jsx)(i.Provider,{value:c,children:t})}},82505:function(e,t,n){n.d(t,{ClientProfileContext:function(){return i},ClientProfileContextProvider:function(){return a}});var r=n(33154),o=n(92340);let i=(0,o.createContext)({}),a=e=>{let{children:t}=e,[n,a]=(0,o.useState)(null),s=()=>{let e=localStorage.getItem("client-profile");if(e)try{let t=JSON.parse(e);a(t)}catch(e){console.log("Invalid JSON in client-profile localStorage, unable to parse"),a(null)}else console.log("No client profile found in localStorage - unable to update context")};(0,o.useEffect)(()=>(window.addEventListener("clientProfileUpdated",s),s(),()=>{window.removeEventListener("clientProfileUpdated",s)}),[]);let c=(0,o.useMemo)(()=>({clientProfileContext:n,setClientProfileContext:a}),[n,a]);return(0,r.jsx)(i.Provider,{value:c,children:t})}},53543:function(e,t,n){n.d(t,{BookmarkGlossaryContext:function(){return s},BookmarkGlossaryContextProvider:function(){return u}});var r=n(33154),o=n(92340),i=n(70129),a=n(90213);let s=(0,o.createContext)({}),c={moduleName:"BookmarkGlossaryContextProvider"},u=e=>{let{children:t}=e,[n,u]=(0,o.useState)({}),l=e=>{localStorage.setItem("bookmark-glossary",JSON.stringify(e)),localStorage.setItem("bookmark-glossary-last-refreshed",new Date().getTime().toString()),u(e)},f=(0,o.useMemo)(()=>({bookmarkGlossaryContextState:n,setBookmarkGlossaryContextState:u,updateBookmarkGlossaryLocalStorage:l}),[n,u]);return(0,o.useEffect)(()=>{let e=localStorage.getItem("bookmark-glossary"),t=localStorage.getItem("bookmark-glossary-last-refreshed"),n=t?JSON.parse(t):void 0,r=new Date().getTime();if(e&&n&&!(r>n+3e5))u(JSON.parse(e));else try{(0,i.o8)().then(e=>{localStorage.setItem("bookmark-glossary",JSON.stringify(e)),localStorage.setItem("bookmark-glossary-last-refreshed",r.toString()),u(e)})}catch(e){a.cM.error("Failed to store bookmark glossary to context w/ exception: ".concat(e),c)}},[]),(0,r.jsx)(s.Provider,{value:f,children:t})}},38493:function(e,t,n){n.d(t,{ContentAIContext:function(){return a},ContentAIContextProvider:function(){return s}});var r=n(33154),o=n(92340);let i={dataAnswers:null,reportAnswers:null,facetAnswers:null},a=(0,o.createContext)({searchResults:i,setSearchResults:()=>{}}),s=e=>{let{children:t}=e,[n,s]=(0,o.useState)(i),c=(0,o.useMemo)(()=>({searchResults:n,setSearchResults:s}),[n]);return(0,r.jsx)(a.Provider,{value:c,children:t})}},58315:function(e,t,n){n.d(t,{ReportBody:function(){return a}});var r=n(33154),o=n(92340),i=n(93898);let a=e=>{let{className:t,children:n}=e,{reportTemplateContextState:a}=(0,o.useContext)(i.ReportTemplateContext),s=t?"text-[".concat(a.fontMultiplier,"em] ").concat(t):"text-[".concat(a.fontMultiplier,"em]");return(0,r.jsx)("div",{className:s,children:n})}},90213:function(e,t,n){let r;n.d(t,{Z7:function(){return nE},ZP:function(){return nE},cM:function(){return nx}});var o,i,a,s,c=n(92104),u={exports:{}};function l(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}let f=function(e,t,n){var r=n&&n.stringify||l;if("object"==typeof e&&null!==e){var o=t.length+1;if(1===o)return e;var i=Array(o);i[0]=r(e);for(var a=1;a<o;a++)i[a]=r(t[a]);return i.join(" ")}if("string"!=typeof e)return e;var s=t.length;if(0===s)return e;for(var c="",u=0,f=-1,d=e&&e.length||0,p=0;p<d;){if(37===e.charCodeAt(p)&&p+1<d){switch(f=f>-1?f:0,e.charCodeAt(p+1)){case 100:case 102:if(u>=s||null==t[u])break;f<p&&(c+=e.slice(f,p)),c+=Number(t[u]),f=p+2,p++;break;case 105:if(u>=s||null==t[u])break;f<p&&(c+=e.slice(f,p)),c+=Math.floor(Number(t[u])),f=p+2,p++;break;case 79:case 111:case 106:if(u>=s||void 0===t[u])break;f<p&&(c+=e.slice(f,p));var v=typeof t[u];if("string"===v){c+="'"+t[u]+"'",f=p+2,p++;break}if("function"===v){c+=t[u].name||"<anonymous>",f=p+2,p++;break}c+=r(t[u]),f=p+2,p++;break;case 115:if(u>=s)break;f<p&&(c+=e.slice(f,p)),c+=String(t[u]),f=p+2,p++;break;case 37:f<p&&(c+=e.slice(f,p)),c+="%",f=p+2,p++,u--}++u}++p}return -1===f?e:(f<d&&(c+=e.slice(f)),c)};u.exports=y;let d=function(){function e(e){return"u">typeof e&&e}try{return"u">typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function p(e,t){return"silent"===e?1/0:t.levels.values[e]}let v=Symbol("pino.logFuncs"),g=Symbol("pino.hierarchy"),m={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function h(e,t){let n={logger:t,parent:e[g]};t[g]=n}function y(e){var t,n;(e=e||{}).browser=e.browser||{};let r=e.browser.transmit;if(r&&"function"!=typeof r.send)throw Error("pino: transmit option must have a send function");let o=e.browser.write||d;e.browser.write&&(e.browser.asObject=!0);let i=e.serializers||{},a=Array.isArray(t=e.browser.serialize)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(i),s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let c=Object.keys(e.customLevels||{}),u=["error","fatal","warn","info","debug","trace"].concat(c);"function"==typeof o&&u.forEach(function(e){o[e]=o}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let l=e.level||"info",f=Object.create(o);f.log||(f.log=E),function(e,t,n){let r={};t.forEach(e=>{r[e]=n[e]?n[e]:d[e]||d[m[e]||"log"]||E}),e[v]=r}(f,u,o),h({},f),Object.defineProperty(f,"levelVal",{get:function(){return p(this.level,this)}}),Object.defineProperty(f,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,b(this,g,f,"error"),b(this,g,f,"fatal"),b(this,g,f,"warn"),b(this,g,f,"info"),b(this,g,f,"debug"),b(this,g,f,"trace"),c.forEach(e=>{b(this,g,f,e)})}});let g={transmit:r,serialize:a,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:u,timestamp:"function"==typeof(n=e).timestamp?n.timestamp:!1===n.timestamp?_:O,messageKey:e.messageKey||"msg",onChild:e.onChild||E};function k(t,n,o){if(!n)throw Error("missing bindings for child Pino");o=o||{},a&&n.serializers&&(o.serializers=n.serializers);let s=o.serializers;if(a&&s){var c=Object.assign({},i,s),u=!0===e.browser.serialize?Object.keys(c):a;delete n.serializers,w([n],u,c,this._stdErrSerialize)}function l(e){this._childLevel=(0|e._childLevel)+1,this.bindings=n,c&&(this.serializers=c,this._serialize=u),r&&(this._logEvent=S([].concat(e._logEvent.bindings,n)))}l.prototype=this;let f=new l(this);return h(this,f),f.child=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return k.call(this,t,...n)},f.level=o.level||this.level,t.onChild(f),f}return f.levels=function(e){let t=e.customLevels||{};return{values:Object.assign({},y.levels.values,t),labels:Object.assign({},y.levels.labels,function(e){let t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}(t))}}(e),f.level=l,f.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},f.setMaxListeners=f.getMaxListeners=f.emit=f.addListener=f.on=f.prependListener=f.once=f.prependOnceListener=f.removeListener=f.removeAllListeners=f.listeners=f.listenerCount=f.eventNames=f.write=f.flush=E,f.serializers=i,f._serialize=a,f._stdErrSerialize=s,f.child=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return k.call(this,g,...t)},r&&(f._logEvent=S()),f}function b(e,t,n,r){var o,i;if(Object.defineProperty(e,r,{value:p(e.level,n)>p(r,n)?E:n[v][r],writable:!0,enumerable:!0,configurable:!0}),e[r]===E){if(!t.transmit)return;let o=p(t.transmit.level||e.level,n);if(p(r,n)<o)return}e[r]=(o=e[v][r],function(){let i=t.timestamp(),a=Array(arguments.length),s=Object.getPrototypeOf&&Object.getPrototypeOf(this)===d?d:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];var u=!1;if(t.serialize&&(w(a,this._serialize,this.serializers,this._stdErrSerialize),u=!0),t.asObject||t.formatters?o.call(s,...function(e,t,n,r,o){let{level:i,log:a=e=>e}=o.formatters||{},s=n.slice(),c=s[0],u={},l=(0|e._childLevel)+1;if((l<1&&(l=1),r&&(u.time=r),i)?Object.assign(u,i(t,e.levels.values[t])):u.level=e.levels.values[t],o.asObjectBindingsOnly){if(null!==c&&"object"==typeof c)for(;l--&&"object"==typeof s[0];)Object.assign(u,s.shift());return[a(u),...s]}if(null!==c&&"object"==typeof c){for(;l--&&"object"==typeof s[0];)Object.assign(u,s.shift());c=s.length?f(s.shift(),s):void 0}else"string"==typeof c&&(c=f(s.shift(),s));return void 0!==c&&(u[o.messageKey]=c),[a(u)]}(this,r,a,i,t)):o.apply(s,a),t.transmit){let o=p(t.transmit.level||e._level,n),s=p(r,n);if(s<o)return;(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t.send,i=t.ts,a=t.methodLevel,s=t.methodValue,c=t.val,u=e._logEvent.bindings;r||w(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter(function(e){return -1===u.indexOf(e)}),e._logEvent.level.label=a,e._logEvent.level.value=s,o(a,e._logEvent,c),e._logEvent=S(u)})(this,{ts:i,methodLevel:r,methodValue:s,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:p(e._level,n)},a,u)}});let a=function(e){let t=[];e.bindings&&t.push(e.bindings);let n=e[g];for(;n.parent;)(n=n.parent).logger.bindings&&t.push(n.logger.bindings);return t.reverse()}(e);0!==a.length&&(e[r]=(i=e[r],function(){return i.apply(this,[...a,...arguments])}))}function w(e,t,n,r){for(let o in e)if(r&&e[o]instanceof Error)e[o]=y.stdSerializers.err(e[o]);else if("object"==typeof e[o]&&!Array.isArray(e[o])&&t)for(let r in e[o])t.indexOf(r)>-1&&r in n&&(e[o][r]=n[r](e[o][r]))}function S(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function k(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let n in e)void 0===t[n]&&(t[n]=e[n]);return t}function C(){return{}}function x(e){return e}function E(){}function _(){return!1}function O(){return Date.now()}y.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},y.stdSerializers={mapHttpRequest:C,mapHttpResponse:C,wrapRequestSerializer:x,wrapResponseSerializer:x,wrapErrorSerializer:x,req:C,res:C,err:k,errWithCause:k},y.stdTimeFunctions=Object.assign({},{nullTime:_,epochTime:O,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),u.exports.default=y;var T=u.exports.pino=y,R={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},L=console,A={};Object.keys(R).forEach(function(e){A[e]=L[e]});var I="Datadog Browser SDK:",P={debug:A.debug.bind(L,I),log:A.log.bind(L,I),info:A.info.bind(L,I),warn:A.warn.bind(L,I),error:A.error.bind(L,I)},j="https://docs.datadoghq.com",N="".concat(j,"/real_user_monitoring/browser/troubleshooting"),M="More details:";function D(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){P.error(t,e)}}}function B(e){return 0!==e&&100*Math.random()<=e}function U(){return new Date().getTime()}function q(){return performance.now()}function z(){return{relative:q(),timeStamp:U()}}function G(){return void 0===ee&&(ee=performance.timing.navigationStart),ee}var F=/[^\u0000-\u007F]/;function J(e){return F.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function H(e,t){return -1!==e.indexOf(t)}function K(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(e){return t.push(e)});else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function V(e){return Object.keys(e).map(function(t){return e[t]})}function W(e,t){return e.slice(0,t.length)===t}function Z(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function $(e,t){return Object.keys(e).some(function(n){return e[n]===t})}function X(e){return 0===Object.keys(e).length}function Y(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&("object"==typeof self?e=self:e=window),e}function Q(e,t){var n,r=Y();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}var ee,et,en=function(e,t,n){if(n||2==arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},er=!1;function eo(e){er=e}function ei(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(et?ea(r):r).apply(this,e)}}function ea(e){return function(){return es(e,this,arguments)}}function es(e,t,n){try{return e.apply(t,n)}catch(e){if(ec(e),et)try{et(e)}catch(e){ec(e)}}}function ec(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];er&&P.error.apply(P,en(["[MONITOR]"],e,!1))}function eu(e,t){return Q(Y(),"setTimeout")(ea(e),t)}function el(e){Q(Y(),"clearTimeout")(e)}function ef(e,t){return Q(Y(),"setInterval")(ea(e),t)}function ed(e){Q(Y(),"clearInterval")(e)}var ep=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){t.observers=t.observers.filter(function(t){return e!==t}),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach(function(t){return t(e)})},e}();function ev(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ep(function(t){var n=e.map(function(e){return e.subscribe(function(e){return t.notify(e)})});return function(){return n.forEach(function(e){return e.unsubscribe()})}})}function eg(e,t,n){var r,o,i=!1;return{throttled:function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(i){r=n;return}e.apply(void 0,n),i=!0,o=eu(function(){r&&e.apply(void 0,r),i=!1,r=void 0},t)},cancel:function(){el(o),i=!1,r=void 0}}}function em(){}function eh(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,eh)}var ey=/([\w-]+)\s*=\s*([^;]+)/g;(eU=ez||(ez={})).WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",eU.REMOTE_CONFIGURATION="remote_configuration",eU.LONG_ANIMATION_FRAME="long_animation_frame",eU.ANONYMOUS_USER_TRACKING="anonymous_user_tracking",eU.ACTION_NAME_MASKING="action_name_masking",eU.CONSISTENT_TRACE_SAMPLING="consistent_trace_sampling",eU.DELAY_VIEWPORT_COLLECTION="delay_viewport_collection";var eb=new Set;function ew(e,t,n,r){void 0===n&&(n=0);var o=new Date;o.setTime(o.getTime()+n);var i="expires=".concat(o.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",c=r&&r.secure?";secure":"",u=r&&r.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/;samesite=").concat(a).concat(s).concat(c).concat(u)}function eS(e){return function(e,t){for(ey.lastIndex=0;;){var n=ey.exec(e);if(n){if(n[1]===t)return n[2]}else break}}(document.cookie,e)}function ek(e){return eG||(eG=function(e){var t=new Map;for(ey.lastIndex=0;;){var n=ey.exec(e);if(n)t.set(n[1],n[2]);else break}return t}(document.cookie)),eG.get(e)}var eC="_dd_s";function ex(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function eE(e){var t=Z({},e);return["id","name","email"].forEach(function(e){e in t&&(t[e]=String(t[e]))}),t}var e_={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"},eO=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function eT(e){var t,n={isExpired:"1"};return t=ez.ANONYMOUS_USER_TRACKING,eb.has(t)&&(null!=e&&e.anonymousId?n.anonymousId=null==e?void 0:e.anonymousId:n.anonymousId=Math.floor(9007199254740992*Math.random()).toString(36)),n}function eR(e){return void 0!==e.isExpired||!((void 0===e.created||U()-Number(e.created)<144e5)&&(void 0===e.expire||U()<Number(e.expire)))}function eL(e){e.expire=String(U()+9e5)}function eA(e){return Object.keys(e).map(function(t){return[t,e[t]]}).map(function(e){var t=e[0],n=e[1];return"anonymousId"===t?"aid=".concat(n):"".concat(t,"=").concat(n)}).join("&")}function eI(e){var t={};return e&&(-1!==e.indexOf("&")||eO.test(e))&&e.split("&").forEach(function(e){var n=eO.exec(e);if(null!==n){var r=n[1],o=n[2];"aid"===r?t.anonymousId=o:t[r]=o}}),t}function eP(e){var t,n=((t={}).secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===eF){for(var e="dd_site_test_".concat(eh()),t=window.location.hostname.split("."),n=t.pop();t.length&&!eS(e);)ew(e,"test",1e3,{domain:n="".concat(t.pop(),".").concat(n)});ew(e,"",0,{domain:n}),eF=n}return eF}()),t);return!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(eh()),n="test";ew(t,n,6e4,e);var r=eS(t)===n;return ew(t,"",0,e),r}catch(e){return P.error(e),!1}}(n)?void 0:{type:e_.COOKIE,cookieOptions:n}}function ej(){return eI(eS(eC))}function eN(){try{var e=eh(),t="".concat("_dd_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:e_.LOCAL_STORAGE}:void 0}catch(e){return}}function eM(e){localStorage.setItem(eC,eA(e))}function eD(){return eI(localStorage.getItem(eC))}function eB(e){eM(eT(e))}var eU,eq,ez,eG,eF,eJ,eH=[];function eK(e,t,n){void 0===n&&(n=0);var r=t.isLockEnabled,o=t.persistSession,i=t.expireSession,a=function(e){return o(Z({},e,{lock:u}))},s=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(eJ||(eJ=e),e!==eJ){eH.push(e);return}if(r&&n>=100){eW(t);return}var c,u,l=s();if(r&&(l.lock||(u=eh(),a(l.session),(l=s()).lock!==u))){eV(e,t,n);return}var f=e.process(l.session);if(r&&(l=s()).lock!==u){eV(e,t,n);return}if(f&&(eR(f)?i(f):(eL(f),r?a(f):o(f))),r&&!(f&&eR(f))){if((l=s()).lock!==u){eV(e,t,n);return}o(l.session),f=l.session}null===(c=e.after)||void 0===c||c.call(e,f||l.session),eW(t)}function eV(e,t,n){eu(function(){eK(e,t,n+1)},10)}function eW(e){eJ=void 0;var t=eH.shift();t&&eK(t,e)}var eZ={GRANTED:"granted",NOT_GRANTED:"not-granted"};function e$(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=eX(Object.prototype),o=eX(Array.prototype),i=eX(Object.getPrototypeOf(e)),a=eX(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),o(),i(),a()}}function eX(e){var t=e.toJSON;return t?(delete e.toJSON,function(){e.toJSON=t}):em}function eY(e){return function(e,t){var n=function(){if(void 0===eQ)try{var e=new e0("http://test/path");eQ="http://test/path"===e.href}catch(e){eQ=!1}return eQ?e0:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw Error("Failed to construct URL: ".concat(String(n)," ").concat(e$({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw Error("Invalid URL: '".concat(e,"'"));var r=document,o=r.createElement("a");if(void 0!==t){var i=(r=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,r.head.appendChild(i),r.body.appendChild(o)}return o.href=e,o}(e,location.href).href}var eQ,e0=URL,e1="datadoghq.com",e3=["ddsource","ddtags"];function e2(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"==typeof r){var o=eY(r);return function(e){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}if("function"==typeof r)return function(e){return r({path:n,parameters:e})};var i=function(e,t){var n=t.site,r=void 0===n?e1:n,o=t.internalAnalyticsSubdomain;if("logs"===e&&t.usePciIntake&&r===e1)return"pci.browser-intake-datadoghq.com";if(o&&r===e1)return"".concat(o,".").concat(e1);if("dd0g-gov.com"===r)return"http-intake.logs.".concat(r);var i=r.split("."),a=i.pop();return"browser-intake-".concat(i.join("-"),".").concat(a)}(t,e);return function(e){return"https://".concat(i).concat(n,"?").concat(e)}}(e,t);return{build:function(o,i){var a,s,c,u,l,f;return r((a=e.clientToken,s=e.internalAnalyticsSubdomain,c=i.retry,u=i.encoding,l=["sdk_version:".concat("5.35.1"),"api:".concat(o)].concat(n),c&&l.push("retry_count:".concat(c.count),"retry_after:".concat(c.lastFailureStatus)),f=["ddsource=browser","ddtags=".concat(encodeURIComponent(l.join(","))),"dd-api-key=".concat(a),"dd-evp-origin-version=".concat(encodeURIComponent("5.35.1")),"dd-evp-origin=browser","dd-request-id=".concat(eh())],u&&f.push("dd-evp-encoding=".concat(u)),"rum"===t&&f.push("batch_time=".concat(U())),s&&f.reverse(),f.join("&")))},urlPrefix:r(""),trackType:t}}function e5(e,t){var n=200-e.length-1;(t.length>n||function(){try{return RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}()&&RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(t))&&P.warn("".concat(e," value doesn't meet tag requirements and will be sanitized. ").concat(M," ").concat(j,"/getting_started/tagging/#defining-tags"));var r=t.replace(/,/g,"_");return"".concat(e,":").concat(r)}function e4(e,t){return null==e||"string"==typeof e||(P.error("".concat(t," must be defined as a string")),!1)}function e9(e,t){return!!(void 0===e||"number"==typeof e&&e>=0&&e<=100)||(P.error("".concat(t," Sample Rate should be a number between 0 and 100")),!1)}function e6(e){var t=[],n=ta(e,"stack"),r=String(e);return n&&W(n,r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach(function(e){var n=function(e){var t=te.exec(e);if(t){var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),o=tt.exec(t[2]);return r&&o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}}(e)||function(e){var t=tn.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=tr.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){var t=to.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1,r=ti.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}}(e);n&&(!n.func&&n.line&&(n.func="?"),t.push(n))}),{message:ta(e,"message"),name:ta(e,"name"),stack:t}}var e8="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",e7="(?::(\\d+))",te=RegExp("^\\s*at (.*?) ?\\(".concat(e8).concat(e7,"?").concat(e7,"?\\)?\\s*$"),"i"),tt=new RegExp("\\((\\S*)".concat(e7).concat(e7,"\\)")),tn=RegExp("^\\s*at ?".concat(e8).concat(e7,"?").concat(e7,"??\\s*$"),"i"),tr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,to=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,ti=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function ta(e,t){if(!("object"!=typeof e||!e||!(t in e))){var n=e[t];return"string"==typeof n?n:void 0}}var ts=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function tc(){var e,t=Error();if(!t.stack)try{throw t}catch(e){}return es(function(){var n=e6(t);n.stack=n.stack.slice(2),e=tu(n)}),e}function tu(e){var t=tl(e);return e.stack.forEach(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",o=e.line?":".concat(e.line):"",i=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(o).concat(i)}),t}function tl(e){return"".concat(e.name||"Error",": ").concat(e.message)}function tf(e,t,n,r){var o=(void 0===r?{}:r).computeHandlingStack,i=e[t];if("function"!=typeof i){if(!(t in e&&W(t,"on")))return{stop:em};i=em}var a=!1,s=function(){if(a)return i.apply(this,arguments);var e,t=K(arguments);es(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:o?tc():void 0}]);var r=i.apply(this,t);return e&&es(e,null,[r]),r};return e[t]=s,{stop:function(){a=!0,e[t]===s&&(e[t]=i)}}}function td(e,t){void 0===t&&(t=225280);var n=eX(Object.prototype),r=eX(Array.prototype),o=[],i=new WeakMap,a=tp(e,"$",void 0,o,i),s=JSON.stringify(a),c=s?s.length:0;if(c>t){tv(t,"discarded",e);return}for(;o.length>0&&c<t;){var u=o.shift(),l=0;if(Array.isArray(u.source))for(var f=0;f<u.source.length;f++){var d=tp(u.source[f],u.path,f,o,i);if(void 0!==d?c+=JSON.stringify(d).length:c+=4,c+=l,l=1,c>t){tv(t,"truncated",e);break}u.target[f]=d}else for(var f in u.source)if(Object.prototype.hasOwnProperty.call(u.source,f)){var d=tp(u.source[f],u.path,f,o,i);if(void 0!==d&&(c+=JSON.stringify(d).length+l+f.length+3,l=1),c>t){tv(t,"truncated",e);break}u.target[f]=d}}return n(),r(),a}function tp(e,t,n,r,o){var i=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!i||"object"!=typeof i)return"bigint"==typeof i?"[BigInt] ".concat(i.toString()):"function"==typeof i?"[Function] ".concat(i.name||"unknown"):"symbol"==typeof i?"[Symbol] ".concat(i.description||i.toString()):i;var a=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"[".concat(t[1],"]")}catch(e){}return"[Unserializable]"}(i);if("[Object]"!==a&&"[Array]"!==a&&"[Error]"!==a)return a;if(o.has(e))return"[Reference seen at ".concat(o.get(e),"]");var s=void 0!==n?"".concat(t,".").concat(n):t,c=Array.isArray(i)?[]:{};return o.set(e,s),r.push({source:i,target:c,path:s}),c}function tv(e,t,n){P.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),n)}var tg="No stack, consider using an instance of Error";function tm(e){var t=e.stackTrace,n=e.originalError,r=e.handlingStack,o=e.startClocks,i=e.nonErrorPrefix,a=e.source,s=e.handling,c=ty(n),u=null!=t&&t.message&&null!=t&&t.name?t.message:c?"Empty message":"".concat(i," ").concat(e$(td(n))),l=void 0!==t&&(c||t.stack.length>0&&(t.stack.length>1||void 0!==t.stack[0].url))?tu(t):tg,f=c?tb(n,a):void 0,d=t?t.name:void 0,p=th(n);return{startClocks:o,source:a,handling:s,handlingStack:r,originalError:n,type:d,message:u,stack:l,causes:f,fingerprint:p}}function th(e){return ty(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function ty(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function tb(e,t){for(var n=e,r=[];ty(null==n?void 0:n.cause)&&r.length<10;){var o=e6(n.cause);r.push({message:n.cause.message,source:t,type:null==o?void 0:o.name,stack:o&&tu(o)}),n=n.cause}return r.length?r:void 0}var tw={AGENT:"agent",CONSOLE:"console",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function tS(e,t){t.silentMultipleInit||P.error("".concat(e," is already initialized."))}function tk(e,t,n,r,o){var i=void 0===o?{}:o,a=i.once,s=i.capture,c=i.passive,u=ea(function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(a&&p(),r(t))}),l=c?{capture:s,passive:c}:s,f=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,d=Q(f,"addEventListener");function p(){var e=Q(f,"removeEventListener");n.forEach(function(n){return e.call(t,n,u,l)})}return n.forEach(function(e){return d.call(t,e,u,l)}),{stop:p}}var tC={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function tx(e){return Z({startClocks:z(),source:tw.REPORT,handling:"unhandled"},e)}function tE(e,t,n,r,o){return n?tu({name:e,message:t,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=o?o:void 0}]}):void 0}function t_(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function tO(e,t,n){if(void 0===n&&(n=function(){if("u">typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=tO(o[i],t[i],n);return o}var a="object"===ex(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=tO(a[s],t[s],n));return a}}function tT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r=0;r<e.length;r++){var o=e[r];null!=o&&(n=tO(n,o))}return n}function tR(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function tL(){var e=[];return{add:function(t){e.push(t)>500&&e.splice(0,1)},remove:function(t){tR(e,t)},drain:function(t){e.forEach(function(e){return e(t)}),e.length=0}}}var tA="configuration",tI="usage",tP=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],tj=["ddog-gov.com"],tN=tL(),tM=function(e){tN.add(function(){return tM(e)})};function tD(e,t){ec(R.debug,e,t),tM(Z({type:"log",message:e,status:"debug"},t))}function tB(e,t){tM(Z({type:"log",status:"error"},function(e){if(ty(e)){var t=e6(e);return{error:{kind:t.name,stack:tu((t.stack=t.stack.filter(function(e){return!e.url||tP.some(function(t){return W(e.url,t)})}),t))},message:t.message}}return{error:{stack:tg},message:"".concat("Uncaught"," ").concat(e$(e))}}(e),t))}var tU=1/0;function tq(e,t,n,r,o){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?tz(e,t,n,{onSuccess:function(){return tG(0,t,n,r,o)},onFailure:function(){t.queuedPayloads.enqueue(e),function e(t,n,r,o){2===t.transportStatus&&eu(function(){tz(t.queuedPayloads.first(),t,n,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=1e3,tG(1,t,n,r,o)},onFailure:function(){t.currentBackoffTime=Math.min(6e4,2*t.currentBackoffTime),e(t,n,r,o)}})},t.currentBackoffTime)}(t,n,r,o)}}):t.queuedPayloads.enqueue(e)}function tz(e,t,n,r){var o=r.onSuccess,i=r.onFailure;t.bandwidthMonitor.add(e),n(e,function(n){t.bandwidthMonitor.remove(e),"opaque"!==n.type&&(0===n.status&&!navigator.onLine||408===n.status||429===n.status||n.status>=500)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},i()):(t.transportStatus=0,o())})}function tG(e,t,n,r,o){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(o({message:"Reached max ".concat(r," events size queued for upload: ").concat(3,"MiB"),source:tw.AGENT,startClocks:z()}),t.queueFullReported=!0);var i=t.queuedPayloads;for(t.queuedPayloads=tF();i.size()>0;)tq(i.dequeue(),t,n,r,o)}function tF(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=3145728}}}var tJ=!1;function tH(e,t,n){var r=new XMLHttpRequest;r.open("POST",e,!0),t instanceof Blob&&r.setRequestHeader("Content-Type",t.type),tk({allowUntrustedEvents:!0},r,["loadend"],function(){null==n||n({status:r.status})},{once:!0}),r.send(t)}function tK(){var e=Y().DatadogEventBridge;if(e)return{getCapabilities:function(){var t;return JSON.parse((null===(t=e.getCapabilities)||void 0===t?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return null===(t=e.getPrivacyLevel)||void 0===t?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n,r){e.send(JSON.stringify({eventType:t,event:n,view:r?{id:r}:void 0}))}}}function tV(e){void 0===e&&(e=null===(t=Y().location)||void 0===t?void 0:t.hostname);var t,n=tK();return!!n&&n.getAllowedWebViewHosts().some(function(t){var n,r;return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r)})}var tW={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function tZ(e){var t=e.encoder,n=e.request,r=e.flushController,o=e.messageBytesLimit,i={},a=r.flushObservable.subscribe(function(e){return function(e){var r,o=V(i).join("\n");i={};var a=(r=e.reason,H(V(tW),r)),s=a?n.sendOnExit:n.send;if(a&&t.isAsync){var c=t.finishSync();c.outputBytesCount&&s(t$(c));var u=[c.pendingData,o].filter(Boolean).join("\n");u&&s({data:u,bytesCount:J(u)})}else o&&t.write(t.isEmpty?o:"\n".concat(o)),t.finish(function(e){s(t$(e))})}(e)});function s(e,n){var a,s,c=e$(e),u=t.estimateEncodedBytesCount(c);if(u>=o){P.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(o,"KB. ").concat(M," ").concat(N,"/#technical-limitations"));return}void 0!==n&&void 0!==i[n]&&(a=i[n],delete i[n],s=t.estimateEncodedBytesCount(a),r.notifyAfterRemoveMessage(s)),r.notifyBeforeAddMessage(u),void 0!==n?(i[n]=c,r.notifyAfterAddMessage()):t.write(t.isEmpty?c:"\n".concat(c),function(e){r.notifyAfterAddMessage(e-u)})}return{flushController:r,add:s,upsert:s,stop:a.unsubscribe}}function t$(e){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}function tX(e,t,n,r,o,i,a){void 0===a&&(a=tZ);var s=u(e,t),c=n&&u(e,n);function u(e,t){var n,s,c,u=t.endpoint,l=t.encoder;return a({encoder:l,request:(n=e.batchBytesLimit,s={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:tF(),queueFullReported:!1},c=function(e,t){(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}})()&&e.bytesCount<n?fetch(u.build("fetch",e),{method:"POST",body:e.data,keepalive:!0,mode:"cors"}).then(ea(function(e){return null==t?void 0:t({status:e.status,type:e.type})}),ea(function(){tH(u.build("xhr",e),e.data,t)})):tH(u.build("xhr",e),e.data,t)},{send:function(e){tq(e,s,c,u.trackType,r)},sendOnExit:function(e){(function(e,t,n){if(navigator.sendBeacon&&n.bytesCount<t)try{var r=e.build("beacon",n);if(navigator.sendBeacon(r,n.data))return}catch(e){tJ||(tJ=!0,tB(e))}tH(e.build("xhr",n),n.data)})(u,n,e)}}),flushController:function(e){var t,n=e.messagesLimit,r=e.bytesLimit,o=e.durationLimit,i=e.pageExitObservable,a=e.sessionExpireObservable,s=i.subscribe(function(e){return d(e.reason)}),c=a.subscribe(function(){return d("session_expire")}),u=new ep(function(){return function(){s.unsubscribe(),c.unsubscribe()}}),l=0,f=0;function d(e){if(0!==f){var t=f,n=l;f=0,l=0,p(),u.notify({reason:e,messagesCount:t,bytesCount:n})}}function p(){el(t),t=void 0}return{flushObservable:u,get messagesCount(){return f},notifyBeforeAddMessage:function(e){l+e>=r&&d("bytes_limit"),f+=1,l+=e,void 0===t&&(t=eu(function(){d("duration_limit")},o))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),l+=e,f>=n?d("messages_limit"):l>=r&&d("bytes_limit")},notifyAfterRemoveMessage:function(e){l-=e,0==(f-=1)&&p()}}}({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:o,sessionExpireObservable:i}),messageBytesLimit:e.messageBytesLimit})}return{flushObservable:s.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),s.add(e),c&&t&&c.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){s.upsert(e,t),c&&c.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){s.stop(),c&&c.stop()}}}function tY(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var o=J(n);t+=o,e+=n,r&&r(o)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}var tQ,t0=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach(function(e){return e(t)})},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(e){return t!==e})}}},e}(),t1=new WeakMap;function t3(e){var t=e.target,n=e.parameters,r=n[0],o=n[1];t1.set(t,{state:"open",method:String(r).toUpperCase(),url:eY(String(o))})}function t2(e){var t=e.target,n=t1.get(t);n&&(n.isAborted=!0)}function t5(){return ng||(ng=new ep(function(e){if(window.fetch)return tf(window,"fetch",function(t){var n,r,o,i,a,s,c,u,l;return n=t.parameters,r=t.onPostCall,o=t.handlingStack,i=n[0],void 0===(s=(a=n[1])&&a.method)&&i instanceof Request&&(s=i.method),c=void 0!==s?String(s).toUpperCase():"GET",u=i instanceof Request?i.url:eY(String(i)),l={state:"start",init:a,input:i,method:c,startClocks:z(),url:u,handlingStack:o},void(e.notify(l),n[0]=l.input,n[1]=l.init,r(function(t){return function(e,t,n){function r(t){n.state="resolve",Z(n,t),e.notify(n)}t.then(ea(function(e){r({response:e,responseType:e.type,status:e.status,isAborted:!1})}),ea(function(e){var t,o;r({status:0,isAborted:(null===(o=null===(t=n.init)||void 0===t?void 0:t.signal)||void 0===o?void 0:o.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})}))}(e,t,l)}))},{computeHandlingStack:!0}).stop})),ng}var t4={};function t9(e){var t={},n=new ep,r={getContext:function(){return tO(void 0,t)},setContext:function(o){"object"===ex(o)?(t=td(o),null==e||e.updateCustomerData(t)):r.clearContext(),n.notify()},setContextProperty:function(r,o){t[r]=td(o),null==e||e.updateCustomerData(t),n.notify()},removeContextProperty:function(r){delete t[r],null==e||e.updateCustomerData(t),n.notify()},clearContext:function(){t={},null==e||e.resetCustomerData(),n.notify()},changeObservable:n};return r}var t6=[];function t8(e,t,n,r){var o="".concat("_dd_c","_").concat(n,"_").concat(r);function i(){var e=localStorage.getItem(o);return null!==e?JSON.parse(e):{}}t6.push(tk(e,window,["storage"],function(e){o===e.key&&t.setContext(i())},void 0)),t.changeObservable.subscribe(function(){localStorage.setItem(o,JSON.stringify(t.getContext()))}),t.setContext(tT(i(),t.getContext()))}function t7(e){var t=0,n=eg(function(n){t=J(e$(n)),e()},200),r=n.throttled,o=n.cancel,i=function(){o(),t=0};return{updateCustomerData:function(e){X(e)?i():r(e)},resetCustomerData:i,getBytesCount:function(){return t},stop:function(){o()}}}function ne(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||ek("datadog-synthetics-injects-rum"))}function nt(e,t,n){var r=n.getHandler(),o=Array.isArray(r)?r:[r];return nr[e]>=nr[n.getLevel()]&&H(o,t)}var nn={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},nr=((nm={})[nn.ok]=0,nm[nn.debug]=1,nm[nn.info]=2,nm[nn.notice]=4,nm[nn.warn]=5,nm[nn.error]=6,nm[nn.critical]=7,nm[nn.alert]=8,nm[nn.emerg]=9,nm);function no(e,t){var n=(void 0===t?{}:t).includeMessage;return{stack:e.stack,kind:e.type,message:void 0!==n&&n?e.message:void 0,causes:e.causes,fingerprint:e.fingerprint,handling:e.handling}}var ni=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},na={console:"console",http:"http"},ns=Object.keys(nn),nc=function(){function e(e,t,n,r,o,i){void 0===r&&(r=na.http),void 0===o&&(o=nn.debug),void 0===i&&(i={}),this.handleLogStrategy=e,this.handlerType=r,this.level=o,this.contextManager=t9(t),this.contextManager.setContext(i),n&&this.contextManager.setContextProperty("logger",{name:n})}return e.prototype.logImplementation=function(e,t,n,r,o){void 0===n&&(n=nn.info);var i,a=td(t);i=null!=r?tT({error:no(tm({stackTrace:ty(r)?e6(r):void 0,originalError:r,nonErrorPrefix:"Provided",source:tw.LOGGER,handling:"handled",startClocks:z()}),{includeMessage:!0})},a):a,this.handleLogStrategy({message:td(e),context:i,status:n},this,o)},e.prototype.log=function(e,t,n,r){var o;void 0===n&&(n=nn.info),nt(n,na.http,this)&&(o=tc()),this.logImplementation(e,t,n,r,o)},e.prototype.setContext=function(e){this.contextManager.setContext(e)},e.prototype.getContext=function(){return this.contextManager.getContext()},e.prototype.setContextProperty=function(e,t){this.contextManager.setContextProperty(e,t)},e.prototype.removeContextProperty=function(e){this.contextManager.removeContextProperty(e)},e.prototype.clearContext=function(){this.contextManager.clearContext()},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.getHandler=function(){return this.handlerType},e.prototype.setLevel=function(e){this.level=e},e.prototype.getLevel=function(){return this.level},ni([ei],e.prototype,"logImplementation",null),e}();function nu(e){return function(t,n,r){var o;nt(e,na.http,this)&&(o=tc()),this.logImplementation(t,n,e,r,o)}}function nl(e,t,n){var r;if(void 0===e)return[];if(!("all"===e||Array.isArray(e)&&e.every(function(e){return H(t,e)}))){P.error("".concat(n,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'));return}return"all"===e?t:(r=new Set,e.forEach(function(e){return r.add(e)}),K(r))}nc.prototype.ok=nu(nn.ok),nc.prototype.debug=nu(nn.debug),nc.prototype.info=nu(nn.info),nc.prototype.notice=nu(nn.notice),nc.prototype.warn=nu(nn.warn),nc.prototype.error=nu(nn.error),nc.prototype.critical=nu(nn.critical),nc.prototype.alert=nu(nn.alert),nc.prototype.emerg=nu(nn.emerg);var nf="logs";function nd(e){return B(e.sessionSampleRate)?"1":"0"}var np=!1;function nv(e){var t=window;if(ne()){var n,r,o=i(t.DD_RUM_SYNTHETICS);return o||np||(np=!0,tD("Logs sent before RUM is injected by the synthetics worker",{testId:"string"==typeof(n=window._DATADOG_SYNTHETICS_PUBLIC_ID||ek("datadog-synthetics-public-id"))?n:void 0,resultId:"string"==typeof(r=window._DATADOG_SYNTHETICS_RESULT_ID||ek("datadog-synthetics-result-id"))?r:void 0})),o}return i(t.DD_RUM);function i(t){if(t&&t.getInternalContext)return t.getInternalContext(e)}}var ng,nm,nh,ny=((nh={})[R.log]=nn.info,nh[R.debug]=nn.debug,nh[R.info]=nn.info,nh[R.warn]=nn.warn,nh[R.error]=nn.error,nh);function nb(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}var nw=((o={})[nn.ok]=R.debug,o[nn.debug]=R.debug,o[nn.info]=R.info,o[nn.notice]=R.info,o[nn.warn]=R.warn,o[nn.error]=R.error,o[nn.critical]=R.error,o[nn.alert]=R.error,o[nn.emerg]=R.error,o),nS=function(e){var t,n,r,o=function(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!(n||0===e)){var o=2===e?3072:16384,i=r;t.forEach(function(e){i+=e.getBytesCount()}),i>o&&(P.warn("Customer data exceeds the recommended ".concat(o/1024,"KiB threshold. ").concat(M," ").concat(N,"/#customer-data-exceeds-the-recommended-threshold-warning")),n=!0)}}return{createDetachedTracker:function(){var e=t7(function(){return r(e.getBytesCount())});return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,t7(r)),t.get(e)},setCompressionStatus:function(t){0===e&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach(function(e){return e.stop()}),t.clear()}}}(),i=t9(o.getOrCreateTracker(2)),a=t9(o.getOrCreateTracker(1)),s={tryToInit:function(e){t||(t=e)},update:function(e){t=e,n.notify()},isGranted:function(){return t===eZ.GRANTED},observable:n=new ep};function c(){return{view:{referrer:document.referrer,url:window.location.href},context:i.getContext(),user:a.getContext()}}var u=function(e,t,n){var r,o,i=tL(),a=t.observable.subscribe(s);function s(){if(!(!o||!r||!t.isGranted())){a.unsubscribe();var e=n(r,o);i.drain(e)}}return{init:function(e){if(!e){P.error("Missing configuration");return}if(Array.isArray(n=e.enableExperimentalFeatures)&&function(e){e.forEach(function(e){eb.add(e)})}(n.filter(function(e){return $(ez,e)})),tV()&&(e=Z({},e,{clientToken:"empty"})),r=e,o){tS("DD_LOGS",e);return}var n,i=function(e){!0===e.usePciIntake&&e.site&&"datadoghq.com"!==e.site&&P.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");var t=function(e){var t,n,r,o,i,a,s,c,u,l,f,d,p;if(!e||!e.clientToken){P.error("Client Token is not configured, we will not send any data.");return}if(!(!(!(a=e.site)||"string"!=typeof a||/(datadog|ddog|datad0g|dd0g)/.test(a)||(P.error("Site should be a valid Datadog site. ".concat(M," ").concat(j,"/getting_started/site/.")),0))||!e9(e.sessionSampleRate,"Session")||!e9(e.telemetrySampleRate,"Telemetry")||!e9(e.telemetryConfigurationSampleRate,"Telemetry Configuration")||!e9(e.telemetryUsageSampleRate,"Telemetry Usage")||!e4(e.version,"Version")||!e4(e.env,"Env")||!e4(e.service,"Service"))){if(void 0!==e.trackingConsent&&!$(eZ,e.trackingConsent)){P.error('Tracking Consent should be either "granted" or "not-granted"');return}return Z({beforeSend:e.beforeSend&&D(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:function(e){switch(e.sessionPersistence){case e_.COOKIE:return eP(e);case e_.LOCAL_STORAGE:return eN();case void 0:var t=eP(e);return!t&&e.allowFallbackToLocalStorage&&(t=eN()),t;default:P.error("Invalid session persistence '".concat(String(e.sessionPersistence),"'"))}}(e),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(r=e.telemetryConfigurationSampleRate)&&void 0!==r?r:5,telemetryUsageSampleRate:null!==(o=e.telemetryUsageSampleRate)&&void 0!==o?o:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!==(i=e.trackingConsent)&&void 0!==i?i:eZ.GRANTED,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},(d=e.site||e1,s=e.env,c=e.service,u=e.version,l=e.datacenter,f=[],s&&f.push(e5("env",s)),c&&f.push(e5("service",c)),u&&f.push(e5("version",u)),l&&f.push(e5("datacenter",l)),p={logsEndpointBuilder:e2(e,"logs",f),rumEndpointBuilder:e2(e,"rum",f),sessionReplayEndpointBuilder:e2(e,"replay",f)},Z({replica:function(e,t){if(e.replica){var n=Z({},e,{site:e1,clientToken:e.replica.clientToken}),r={logsEndpointBuilder:e2(n,"logs",t),rumEndpointBuilder:e2(n,"rum",t)};return Z({applicationId:e.replica.applicationId},r)}}(e,f),site:d},p)))}}(e),n=nl(e.forwardConsoleLogs,V(R),"Forward Console Logs"),r=nl(e.forwardReports,V(tC),"Forward Reports");if(!(!t||!n||!r))return e.forwardErrorsToLogs&&!H(n,R.error)&&n.push(R.error),Z({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:32768,sendLogsAfterSessionExpiration:!!e.sendLogsAfterSessionExpiration},t)}(e);i&&(o=i,t5().subscribe(em),t.tryToInit(i.trackingConsent),s())},get initConfiguration(){return r},getInternalContext:em,handleLog:function(t,n,r,o,a){void 0===o&&(o=e()),void 0===a&&(a=U()),i.add(function(e){return e.handleLog(t,n,r,o,a)})}}}(c,s,function(t,n){t.storeContextsAcrossPages&&(t8(n,i,nf,2),t8(n,a,nf,1));var r=e(t,n,c,s);return u=Z({init:function(e){tS("DD_LOGS",e)},initConfiguration:t},r),r}),l={};return Object.defineProperty(r=Z({version:"5.35.1",onReady:function(e){e()}},{logger:new nc(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.handleLog.apply(u,e)},o.createDetachedTracker()),init:ea(function(e){return u.init(e)}),setTrackingConsent:ea(function(e){s.update(e),tM({type:tI,usage:{feature:"set-tracking-consent",tracking_consent:e}})}),getGlobalContext:ea(function(){return i.getContext()}),setGlobalContext:ea(function(e){return i.setContext(e)}),setGlobalContextProperty:ea(function(e,t){return i.setContextProperty(e,t)}),removeGlobalContextProperty:ea(function(e){return i.removeContextProperty(e)}),clearGlobalContext:ea(function(){return i.clearContext()}),createLogger:ea(function(e,t){return void 0===t&&(t={}),l[e]=new nc(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.handleLog.apply(u,e)},o.createDetachedTracker(),td(e),t.handler,t.level,td(t.context)),l[e]}),getLogger:ea(function(e){return l[e]}),getInitConfiguration:ea(function(){return tO(void 0,u.initConfiguration)}),getInternalContext:ea(function(e){return u.getInternalContext(e)}),setUser:ea(function(e){var t;(t="object"===ex(e))||P.error("Unsupported user:",e),t&&a.setContext(eE(e))}),getUser:ea(function(){return a.getContext()}),setUserProperty:ea(function(e,t){var n,r=eE(((n={})[e]=t,n))[e];a.setContextProperty(e,r)}),removeUserProperty:ea(function(e){return a.removeContextProperty(e)}),clearUser:ea(function(){return a.clearContext()})}),"_setDebug",{get:function(){return eo},enumerable:!1}),r}(function(e,t,n,r){var o=new t0,i=[];o.subscribe(1,function(e){return t_("logs",e)});var a=function(e){o.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:tw.AGENT,status:nn.error}}),tD("Error reported to customer",{"error.message":e.message})},s=new ep(function(e){var n=tk(t,window,["visibilitychange","freeze"],function(t){"visibilitychange"===t.type&&"hidden"===document.visibilityState?e.notify({reason:tW.HIDDEN}):"freeze"===t.type&&e.notify({reason:tW.FROZEN})},{capture:!0}).stop,r=tk(t,window,["beforeunload"],function(){e.notify({reason:tW.UNLOADING})},void 0).stop;return function(){n(),r()}}),c=!t.sessionStoreStrategyType||tV()||ne()?(l="1"===nd(t)?{}:void 0,{findTrackedSession:function(){return l},expireObservable:new ep}):{findTrackedSession:function(e,t){void 0===t&&(t={returnInactive:!1});var n=f.findSession(e,t);return n&&"1"===n.trackingType?{id:n.id}:void 0},expireObservable:(f=function(e,t,n,r){var o,i,a,s,c,u,l,f=new ep,d=new ep,p=function(e,t,n){var r,o,i,a,s,c,u=new ep,l=new ep,f=new ep,d=e.type===e_.COOKIE?(a=e.cookieOptions,function(e){if(!ek(eC)){var t=ek("_dd"),n=ek("_dd_r"),r=ek("_dd_l"),o={};t&&(o.id=t),r&&/^[01]$/.test(r)&&(o.logs=r),n&&/^[012]$/.test(n)&&(o.rum=n),X(o)||(eL(o),e.persistSession(o))}}(s={isLockEnabled:1===(null!=eq?eq:(void 0===r&&(r=window),i=r.navigator.userAgent,eq=r.chrome||/HeadlessChrome/.test(i)?1:(null===(o=r.navigator.vendor)||void 0===o?void 0:o.indexOf("Apple"))===0||/safari/i.test(i)&&!/chrome|android/i.test(i)?2:r.document.documentMode?0:3)),persistSession:function(e){ew(eC,eA(e),9e5,a)},retrieveSession:ej,expireSession:function(e){var t;ew(eC,eA(eT(e)),(t=ez.ANONYMOUS_USER_TRACKING,eb.has(t))?31536e6:144e5,a)}}),s):{isLockEnabled:!1,persistSession:eM,retrieveSession:eD,expireSession:eB},p=d.expireSession,v=ef(function(){eK({process:function(e){return eR(e)?eT(e):void 0},after:y},d)},1e3);b();var g=eg(function(){eK({process:function(e){if(!X(e)){var r=y(e);return function(e){if(X(e))return 0;var r=n(e[t]),o=r.trackingType,i=r.isTracked;e[t]=o,delete e.isExpired,i&&!e.id&&(e.id=eh(),e.created=String(U()))}(r),r}},after:function(e){X(e)||w()||(c=e,u.notify()),c=e}},d)},1e3),m=g.throttled,h=g.cancel;function y(e){var n;return eR(e)&&(e=eT(e)),w()&&((n=e,c.id!==n.id||c[t]!==n[t])?(c=eT(c),l.notify()):(f.notify({previousState:c,newState:e}),c=e)),e}function b(){eK({process:function(e){if(X(e))return eT(e)},after:function(e){c=e}},d)}function w(){return void 0!==c[t]}return{expandOrRenewSession:m,expandSession:function(){eK({process:function(e){return w()?y(e):void 0}},d)},getSession:function(){return c},renewObservable:u,expireObservable:l,sessionStateUpdateObservable:f,restartSession:b,expire:function(){h(),p(c),y(eT(c))},stop:function(){ed(v)},updateSessionState:function(e){eK({process:function(t){return Z({},t,e)},after:y},d)}}}(e.sessionStoreStrategyType,t,n),v=(s=(a={expireDelay:144e5}).expireDelay,c=a.maxEntries,u=[],l=ef(function(){return function(){for(var e=q()-s;u.length>0&&u[u.length-1].endTime<e;)u.pop()}()},6e4),{add:function(e,t){var n={value:e,startTime:t,endTime:tU,remove:function(){tR(u,n)},close:function(e){n.endTime=e}};return c&&u.length>=c&&u.pop(),u.unshift(n),n},find:function(e,t){void 0===e&&(e=tU),void 0===t&&(t={returnInactive:!1});for(var n=0,r=u;n<r.length;n++){var o=r[n];if(o.startTime<=e){if(t.returnInactive||e<=o.endTime)return o.value;break}}},closeActive:function(e){var t=u[0];t&&t.endTime===tU&&t.close(e)},findAll:function(e,t){void 0===e&&(e=tU),void 0===t&&(t=0);var n=e+t;return u.filter(function(t){return t.startTime<=n&&e<=t.endTime}).map(function(e){return e.value})},reset:function(){u=[]},stop:function(){ed(l)}});function g(){return{id:p.getSession().id,trackingType:p.getSession()[t],isReplayForced:!!p.getSession().forcedReplay,anonymousId:p.getSession().anonymousId}}return p.renewObservable.subscribe(function(){v.add(g(),q()),f.notify()}),p.expireObservable.subscribe(function(){d.notify(),v.closeActive(q())}),p.expandOrRenewSession(),v.add(g(),{relative:0,timeStamp:G()}.relative),r.observable.subscribe(function(){r.isGranted()?p.expandOrRenewSession():p.expire()}),tk(e,window,["click","touchstart","keydown","scroll"],function(){r.isGranted()&&p.expandOrRenewSession()},{capture:!0,passive:!0}).stop,o=function(){return p.expandSession()},i=function(){"visible"===document.visibilityState&&o()},tk(e,document,["visibilitychange"],i,void 0).stop,ef(i,6e4),tk(e,window,["resume"],function(){return p.restartSession()},{capture:!0}).stop,{findSession:function(e,t){return v.find(e,t)},renewObservable:f,expireObservable:d,sessionStateUpdateObservable:p.sessionStateUpdateObservable,expire:p.expire,updateSessionState:p.updateSessionState}}(t,"logs",function(e){var n;return{trackingType:n="0"===e||"1"===e?e:nd(t),isTracked:"1"===n}},r)).expireObservable},u=function(e,t,n,r,o){var i,a,s,c,u,l,f,d,p,v,g=(i="browser-logs-sdk",c=new ep,u=new Set,l=!H(tj,t.site)&&B(t.telemetrySampleRate),(a={}).log=l,a[tA]=l&&B(t.telemetryConfigurationSampleRate),a[tI]=l&&B(t.telemetryUsageSampleRate),f=a,d={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self},tM=function(e){var n=e$(e);if(f[e.type]&&u.size<t.maxTelemetryEventsPerPage&&!u.has(n)){var r,o,a=tT({type:"telemetry",date:U(),service:i,version:"5.35.1",source:"browser",_dd:{format_version:2},telemetry:tT(e,{runtime_env:d,connectivity:{status:(o=window.navigator).onLine?"connected":"not_connected",interfaces:o.connection&&o.connection.type?[o.connection.type]:void 0,effective_type:null===(r=o.connection)||void 0===r?void 0:r.effectiveType},sdk_setup:"npm"}),experimental_features:K(eb)},void 0!==s?s():{});c.notify(a),t_("telemetry",a),u.add(n)}},et=tB,{setContextProvider:function(e){s=e},observable:c,enabled:l});g.setContextProvider(function(){var e,t,n,r,i,a;return{application:{id:null===(e=nv())||void 0===e?void 0:e.application_id},session:{id:null===(t=o.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(r=null===(n=nv())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(a=null===(i=nv())||void 0===i?void 0:i.user_action)||void 0===a?void 0:a.id}}});var m=[];if(tV()){var h=tK(),y=g.observable.subscribe(function(e){return h.send("internal_telemetry",e)});m.push(function(){return y.unsubscribe()})}else{var b=tX(t,{endpoint:t.rumEndpointBuilder,encoder:tY()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:tY()},n,r,o.expireObservable);m.push(function(){return b.stop()});var w=g.observable.subscribe(function(e){return b.add(e,"datad0g.com"===t.site)});m.push(function(){return w.unsubscribe()})}return tN.drain(),p={session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,session_persistence:e.sessionPersistence,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent},v=Z({forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports,use_pci_intake:e.usePciIntake,send_logs_after_session_expiration:e.sendLogsAfterSessionExpiration},p),tM({type:tA,configuration:v}),{telemetry:g,stop:function(){m.forEach(function(e){return e()})}}}(e,t,a,s,c).stop;if(i.push(function(){return u()}),function(e,t){function n(n,r){var o,i,a,s,c,u;function l(e){var o={isAborted:r.isAborted,handlingStack:r.handlingStack};t.notify(0,{rawLogsEvent:{message:"".concat("xhr"===n?"XHR":"Fetch"," error ").concat(r.method," ").concat(r.url),date:r.startClocks.timeStamp,error:{stack:e||"Failed to load",handling:void 0},http:{method:r.method,status_code:r.status,url:r.url},status:nn.error,origin:tw.NETWORK},domainContext:o})}o=r.url,!e3.every(function(e){return H(o,e)})&&(0===r.status&&"opaque"!==r.responseType||r.status>=500)&&("xhr"in r?l("string"==typeof(i=r.xhr).response?nb(i.response,e):i.response):r.response?(a=function(e){try{return e.clone()}catch(e){return}}(r.response))&&a.body?window.TextDecoder?(s=a.body,c=e.requestErrorResponseLengthLimit,u=function(e,t){l(e?"Unable to retrieve response: ".concat(e):t)},function(e,t,n){var r=e.getReader(),o=[],i=0;function a(){if(r.cancel().catch(em),1===o.length)e=o[0];else{e=new Uint8Array(i);var e,a=0;o.forEach(function(t){e.set(t,a),a+=t.length})}t(void 0,e.slice(0,n.bytesLimit),e.length>n.bytesLimit)}(function e(){r.read().then(ea(function(t){if(t.done){a();return}o.push(t.value),(i+=t.value.length)>n.bytesLimit?a():e()}),ea(function(e){return t(e)}))})()}(s,function(e,t,n){if(e)u(e);else{var r=new TextDecoder().decode(t);n&&(r+="..."),u(void 0,r)}},{bytesLimit:c})):a.text().then(ea(function(t){return l(nb(t,e))}),ea(function(e){return l("Unable to retrieve response: ".concat(e))})):l():r.error&&l(nb(tu(e6(r.error)),e)))}e.forwardErrorsToLogs&&((tQ||(tQ=new ep(function(t){var n=tf(XMLHttpRequest.prototype,"open",t3).stop,r=tf(XMLHttpRequest.prototype,"send",function(n){(function(e,t,n){var r=e.target,o=e.handlingStack,i=t1.get(r);if(i){i.state="start",i.startClocks=z(),i.isAborted=!1,i.xhr=r,i.handlingStack=o;var a=!1,s=tf(r,"onreadystatechange",function(){r.readyState===XMLHttpRequest.DONE&&c()}).stop,c=function(){if(u(),s(),!a){var e;a=!0,i.state="complete",i.duration=(e=i.startClocks.timeStamp,U()-e),i.status=r.status,n.notify(Z({},i))}},u=tk(t,r,["loadend"],c,void 0).stop;n.notify(i)}})(n,e,t)},{computeHandlingStack:!0}).stop,o=tf(XMLHttpRequest.prototype,"abort",t2).stop;return function(){n(),r(),o()}})),tQ).subscribe(function(e){"complete"===e.state&&n("xhr",e)}),t5().subscribe(function(e){"resolve"===e.state&&n("fetch",e)}))}(t,o),function(e,t){if(e.forwardErrorsToLogs){var n,r,o,i,a=new ep;(o=(n=r=function(e,t){var n=tm({stackTrace:e,originalError:t,startClocks:z(),nonErrorPrefix:"Uncaught",source:tw.SOURCE,handling:"unhandled"});a.notify(n)},tf(window,"onerror",function(e){var t,r,o,i,a,s=e.parameters,c=s[0],u=s[1],l=s[2],f=s[3],d=s[4];n(ty(d)?e6(d):{name:("[object String]"===({}).toString.call(c)&&(r=(t=ts.exec(c))[1],o=t[2]),i={name:r,message:o}).name,message:i.message,stack:[{url:u,column:f,line:l}]},null!=d?d:c)})).stop,i=tf(window,"onunhandledrejection",function(e){var t=e.parameters[0].reason||"Empty reason";r(e6(t),t)}).stop,{stop:function(){o(),i()}}).stop,a.subscribe(function(e){t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:no(e),origin:tw.SOURCE,status:nn.error}})})}}(t,o),function(e,t){var n;(n=e.forwardConsoleLogs.map(function(e){return t4[e]||(t4[e]=new ep(function(t){var n=L[e];return L[e]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n.apply(console,r);var i=tc();es(function(){t.notify(function(e,t,n){var r,o=e.map(function(e){return"string"==typeof e?td(e):ty(e)?tl(e6(e)):e$(td(e),void 0,2)}).join(" ");if(t===R.error){var i=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}(e,ty);r={stack:i?tu(e6(i)):void 0,fingerprint:th(i),causes:i?tb(i,"console"):void 0,startClocks:z(),message:o,source:tw.CONSOLE,handling:"handled",handlingStack:n}}return{api:t,message:o,error:r,handlingStack:n}}(r,e,i))})},function(){L[e]=n}})),t4[e]}),ev.apply(void 0,n)).subscribe(function(e){var n={rawLogsEvent:{date:U(),message:e.message,origin:tw.CONSOLE,error:e.error&&no(e.error),status:ny[e.api]},domainContext:{handlingStack:e.handlingStack}};t.notify(0,n)})}(t,o),(d=t.forwardReports,p=[],H(d,tC.cspViolation)&&p.push(new ep(function(e){return tk(t,document,["securitypolicyviolation"],function(t){var n,r,o,i,a;e.notify((n=t,a="'".concat(n.blockedURI,"' blocked by '").concat(n.effectiveDirective,"' directive"),tx({type:n.effectiveDirective,message:"".concat(tC.cspViolation,": ").concat(a),originalError:n,csp:{disposition:n.disposition},stack:tE(n.effectiveDirective,n.originalPolicy?"".concat(a,' of the policy "').concat((i=(o=(r=n.originalPolicy).charCodeAt(99))>=55296&&o<=56319?101:100,r.length<=i?r:"".concat(r.slice(0,i)).concat("...")),'"'):"no policy",n.sourceFile,n.lineNumber,n.columnNumber)})))},void 0).stop})),(v=d.filter(function(e){return e!==tC.cspViolation})).length&&p.push(new ep(function(e){if(window.ReportingObserver){var t=ea(function(t,n){return t.forEach(function(t){var n,r;return e.notify((n=t.type,tx({type:(r=t.body).id,message:"".concat(n,": ").concat(r.message),originalError:t,stack:tE(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})))})}),n=new window.ReportingObserver(t,{types:v,buffered:!0});return n.observe(),function(){n.disconnect()}}})),ev.apply(void 0,p)).subscribe(function(e){var t,n,r,i=e.message,a="deprecation"===e.originalError.type?nn.warn:nn.error;a===nn.error?r=no(e):e.stack&&(i+=" Found in ".concat((t=e.stack,null===(n=/@ (.+)/.exec(t))||void 0===n?void 0:n[1]))),o.notify(0,{rawLogsEvent:{date:U(),message:i,origin:tw.REPORT,error:r,status:a}})}),g=ns.concat(["custom"]),m={},g.forEach(function(e){var n,r,o;m[e]=(n=t.eventRateLimiterThreshold,r=0,o=!1,{isLimitReached:function(){if(0===r&&eu(function(){r=0},6e4),(r+=1)<=n||o)return o=!1,!1;if(r===n+1){o=!0;try{a({message:"Reached max number of ".concat(e,"s by minute: ").concat(n),source:tw.AGENT,startClocks:z()})}finally{o=!1}}return!0}})}),o.subscribe(0,function(e){var r,i,a=e.rawLogsEvent,s=e.messageContext,u=e.savedCommonContext,l=e.domainContext,f=a.date-G(),d=c.findTrackedSession(f);if(!(!d&&(!t.sendLogsAfterSessionExpiration||!c.findTrackedSession(f,{returnInactive:!0})))){var p=(void 0===u?void 0:u)||n(),v=tT({service:t.service,session_id:d?d.id:void 0,session:d?{id:d.id}:void 0,usr:X(p.user)?void 0:p.user,view:p.view},p.context,nv(f),a,void 0===s?void 0:s);(null===(r=t.beforeSend)||void 0===r?void 0:r.call(t,v,l))===!1||v.origin!==tw.AGENT&&(null!==(i=m[v.status])&&void 0!==i?i:m.custom).isLimitReached()||o.notify(1,v)}}),tV())!function(e){var t=tK();e.subscribe(1,function(e){t.send("log",e)})}(o);else{var l,f,d,p,v,g,m,h,y=(h=tX(t,{endpoint:t.logsEndpointBuilder,encoder:tY()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:tY()},a,s,c.expireObservable),o.subscribe(1,function(e){h.add(e)}),h).stop;i.push(function(){return y()})}return{handleLog:function(e,t,n,r,i){var a,s,c=tT(t.getContext(),e.context);if(nt(e.status,na.console,t)&&(a=e.status,s=e.message,A[nw[a]].call(L,s,c)),nt(e.status,na.http,t)){var u={rawLogsEvent:{date:i||U(),message:e.message,status:e.status,origin:tw.LOGGER},messageContext:c,savedCommonContext:r};n&&(u.domainContext={handlingStack:n}),o.notify(0,u)}},getInternalContext:function(e){var t=c.findTrackedSession(e);if(t)return{session_id:t.id}},stop:function(){i.forEach(function(e){return e()})}}});(s=(i=Y())[a="DD_LOGS"])&&!s.q&&s.version&&P.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),i[a]=nS,s&&s.q&&s.q.forEach(function(e){return D(e,"onReady callback threw an error:")()}),"local"!==c.env.NEXT_PUBLIC_ENV&&nS.init({clientToken:"pub3d33da2e6c12be75d426f717b10537b8",site:"datadoghq.com",service:"forge-render",env:c.env.NEXT_PUBLIC_ENV,forwardErrorsToLogs:!0,forwardConsoleLogs:["log","info","error","warn"],sessionSampleRate:100});let nk=()=>(r||(r=T()),r),nC=e=>{let t=new Date().toISOString();return{...e,time:t}},nx={debug:(e,t)=>{nk().info(nC({...t,message:e}))},info:(e,t)=>{nk().info(nC({...t,message:e}))},warn:(e,t)=>{nk().warn(nC({...t,message:e}))},error:(e,t,n)=>{nk().error(nC({...t,message:e,cause:null==n?void 0:n.stack}))}},nE={log:nx}}}]);
//# sourceMappingURL=886-cb74ed1d8d4dabbf-f3196393.js.map